{
  "version": 3,
  "sources": ["../src/template.js", "../src/helper.js", "../src/winbox.js"],
  "sourcesContent": ["const template = document.createElement(\"div\");\ntemplate.innerHTML = (\n\n    //'<div class=winbox>' +\n\n        '<div class=wb-header>' +\n            '<div class=wb-control>' +\n                '<span title=\"Minimize\" class=wb-min></span>' +\n                '<span title=\"Maximize\" class=wb-max></span>' +\n                '<span title=\"Fullscreen\" class=wb-full></span>' +\n                '<span title=\"Close\" class=wb-close></span>' +\n            '</div>' +\n            '<div class=wb-drag>'+\n                '<div class=wb-icon></div>' +\n                '<div class=wb-title></div>' +\n            '</div>' +\n        '</div>' +\n\n        '<div class=wb-body></div>' +\n\n        '<div class=wb-n></div>' +\n        '<div class=wb-s></div>' +\n        '<div class=wb-w></div>' +\n        '<div class=wb-e></div>' +\n        '<div class=wb-nw></div>' +\n        '<div class=wb-ne></div>' +\n        '<div class=wb-se></div>' +\n        '<div class=wb-sw></div>'\n\n    //'</div>'\n);\n\nexport default function(tpl){\n\n    return (tpl || template).cloneNode(true);\n}\n", "/**\n * @param {Window|Element} node\n * @param {string} event\n * @param {Function} fn\n * @param {AddEventListenerOptions|boolean=} opt\n */\n\nexport function addListener(node, event, fn, opt){\n\n    node && node.addEventListener(event, fn, opt || false);\n}\n\n/**\n * @param {Window|Element} node\n * @param {string} event\n * @param {Function} fn\n * @param {AddEventListenerOptions|boolean=} opt\n */\n\nexport function removeListener(node, event, fn, opt){\n\n    node && node.removeEventListener(event, fn, opt || false);\n}\n\n/**\n * @param event\n * @param {boolean=} prevent\n */\n\nexport function preventEvent(event, prevent){\n\n    event.stopPropagation();\n    /*prevent &&*/ event.cancelable && event.preventDefault();\n\n    //event.stopImmediatePropagation();\n    //event.returnValue = false;\n}\n\nexport function getByClass(root, name){\n\n    return root.getElementsByClassName(name)[0];\n}\n\nexport function addClass(node, classname){\n\n    node.classList.add(classname);\n}\n\nexport function hasClass(node, classname){\n\n    return node.classList.contains(classname);\n}\n\nexport function removeClass(node, classname){\n\n    node.classList.remove(classname);\n}\n\nexport function setStyle(node, style, value){\n\n    value = \"\" + value;\n\n    if(node[\"_s_\" + style] !== value){\n\n        node.style.setProperty(style, value);\n        node[\"_s_\" + style] = value;\n    }\n}\n\nexport function setAttribute(node, key, value){\n\n    value = \"\" + value;\n\n    if(node[\"_a_\" + key] !== value){\n\n        node.setAttribute(key, value);\n        node[\"_a_\" + key] = value;\n    }\n}\n\nexport function removeAttribute(node, key){\n\n    if(node[\"_a_\" + key] !== null){\n\n        node.removeAttribute(key);\n        node[\"_a_\" + key] = null;\n    }\n}\n\nexport function setText(node, value){\n\n    const textnode = node.firstChild;\n    textnode ? textnode.nodeValue = value : node.textContent = value;\n}\n", "/**\n * WinBox.js\n * Copyright 2022 Nextapps GmbH\n * Author: Thomas Wilkerling\n * Licence: Apache-2.0\n * https://github.com/nextapps-de/winbox\n */\n\nimport template from \"./template.js\";\nimport { addListener, removeListener, setStyle, setText, getByClass, addClass, removeClass, hasClass, preventEvent } from \"./helper.js\";\n\n//const ios = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window[\"MSStream\"];\n\nconst use_raf = false;\nconst stack_min = [];\n// use passive for touch and mouse wheel\nconst eventOptions = { \"capture\": true, \"passive\": true };\nlet body;\nlet id_counter = 0;\nlet index_counter = 10;\nlet is_fullscreen;\nlet last_focus;\nlet prefix_request;\nlet prefix_exit;\nlet root_w, root_h;\n\n/**\n * @param {string|Object=} params\n * @param {Object=} _title\n * @constructor\n * @this WinBox\n */\n\nfunction WinBox(params, _title){\n\n    if(!(this instanceof WinBox)) {\n\n        return new WinBox(params);\n    }\n\n    body || setup();\n\n    let id,\n        index,\n        root,\n        tpl,\n        title,\n        icon,\n        mount,\n        html,\n        url,\n        shadowel,\n        framename,\n        cssurl,\n\n        width,\n        height,\n        minwidth,\n        minheight,\n        maxwidth,\n        maxheight,\n        autosize,\n\n        x,\n        y,\n\n        top,\n        left,\n        bottom,\n        right,\n\n        min,\n        max,\n        hidden,\n        modal,\n\n        background,\n        border,\n        header,\n        classname,\n\n        oncreate,\n        onclose,\n        onfocus,\n        onblur,\n        onmove,\n        onresize,\n        onfullscreen,\n        onmaximize,\n        onminimize,\n        onrestore,\n        onhide,\n        onshow,\n        onload;\n\n    if(params){\n\n        if(_title){\n\n            title = params;\n            params = _title;\n        }\n\n        if(typeof params === \"string\"){\n\n            title = params;\n        }\n        else{\n\n            id = params[\"id\"];\n            index = params[\"index\"];\n            root = params[\"root\"];\n            tpl = params[\"template\"];\n            title = title || params[\"title\"];\n            icon = params[\"icon\"];\n            mount = params[\"mount\"];\n            html = params[\"html\"];\n            url = params[\"url\"];\n            shadowel = params[\"shadowel\"];\n            framename = params[\"framename\"];\n            cssurl = params[\"cssurl\"];\n\n            width = params[\"width\"];\n            height = params[\"height\"];\n            minwidth = params[\"minwidth\"];\n            minheight = params[\"minheight\"];\n            maxwidth = params[\"maxwidth\"];\n            maxheight = params[\"maxheight\"];\n            autosize = params[\"autosize\"];\n\n            min = params[\"min\"];\n            max = params[\"max\"];\n            hidden = params[\"hidden\"];\n            modal = params[\"modal\"];\n\n            x = params[\"x\"] || (modal ? \"center\" : 0);\n            y = params[\"y\"] || (modal ? \"center\" : 0);\n\n            top = params[\"top\"];\n            left = params[\"left\"];\n            bottom = params[\"bottom\"];\n            right = params[\"right\"];\n\n            background = params[\"background\"];\n            border = params[\"border\"];\n            header = params[\"header\"];\n            classname = params[\"class\"];\n\n            onclose = params[\"onclose\"];\n            onfocus = params[\"onfocus\"];\n            onblur = params[\"onblur\"];\n            onmove = params[\"onmove\"];\n            onresize = params[\"onresize\"];\n            onfullscreen = params[\"onfullscreen\"];\n            onmaximize = params[\"onmaximize\"];\n            onminimize = params[\"onminimize\"];\n            onrestore = params[\"onrestore\"];\n            onhide = params[\"onhide\"];\n            onshow = params[\"onshow\"];\n            onload = params[\"onload\"];\n        }\n    }\n\n    this.dom = template(tpl);\n    this.dom.id = this.id = id || (\"winbox-\" + (++id_counter));\n    this.dom.className = \"winbox\" + (classname ? \" \" + (typeof classname === \"string\" ? classname : classname.join(\" \")) : \"\") + (modal ? \" modal\" : \"\");\n    this.dom[\"winbox\"] = this;\n    this.window = this.dom;\n    this.body = getByClass(this.dom, \"wb-body\");\n    this.header = header || 35;\n    //this.plugins = [];\n\n    if(background){\n\n        this.setBackground(background);\n    }\n\n    if(border){\n\n        setStyle(this.body, \"margin\", border + (isNaN(border) ? \"\" : \"px\"));\n    }\n    else{\n\n        border = 0;\n    }\n\n    if(header){\n\n        const node = getByClass(this.dom, \"wb-header\");\n        setStyle(node, \"height\", header + \"px\");\n        setStyle(node, \"line-height\", header + \"px\");\n        setStyle(this.body, \"top\", header + \"px\");\n    }\n\n    if(title){\n\n        this.setTitle(title);\n    }\n\n    if(icon){\n\n        this.setIcon(icon);\n    }\n\n    if(mount){\n\n        this.mount(mount);\n    }\n    else if(html){\n\n        this.body.innerHTML = html;\n    }\n    else if(url){\n\n        this.setUrl(url, onload);\n    }\n\n    top = top ? parse(top, root_h) : 0;\n    bottom = bottom ? parse(bottom, root_h) : 0;\n    left = left ? parse(left, root_w) : 0;\n    right = right ? parse(right, root_w) : 0;\n\n    const viewport_w = root_w - left - right;\n    const viewport_h = root_h - top - bottom;\n\n    maxwidth = maxwidth ? parse(maxwidth, viewport_w) : viewport_w;\n    maxheight = maxheight ? parse(maxheight, viewport_h) : viewport_h;\n    minwidth = minwidth ? parse(minwidth, maxwidth) : 150;\n    minheight = minheight ? parse(minheight, maxheight) : this.header;\n\n    if(autosize){\n\n        (root || body).appendChild(this.body);\n\n        width = Math.max(Math.min(this.body.clientWidth + border * 2 + 1, maxwidth), minwidth);\n        height = Math.max(Math.min(this.body.clientHeight + this.header + border + 1, maxheight), minheight);\n\n        this.dom.appendChild(this.body);\n    }\n    else{\n\n        width = width ? parse(width, maxwidth) : Math.max(maxwidth / 2, minwidth) | 0;\n        height = height ? parse(height, maxheight) : Math.max(maxheight / 2, minheight) | 0;\n    }\n\n    x = x ? parse(x, viewport_w, width) : left;\n    y = y ? parse(y, viewport_h, height) : top;\n\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.minwidth = minwidth;\n    this.minheight = minheight;\n    this.maxwidth = maxwidth;\n    this.maxheight = maxheight;\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n    this.index = index;\n    //this.border = border;\n    this.min = false;\n    this.max = false;\n    this.full = false;\n    this.hidden = false;\n    this.focused = false;\n\n    this.onclose = onclose;\n    this.onfocus = onfocus;\n    this.onblur = onblur;\n    this.onmove = onmove;\n    this.onresize = onresize;\n    this.onfullscreen = onfullscreen;\n    this.onmaximize = onmaximize;\n    this.onminimize = onminimize;\n    this.onrestore = onrestore;\n    this.onhide = onhide;\n    this.onshow = onshow;\n\n    if(max){\n\n        this.maximize();\n    }\n    else if(min){\n\n        this.minimize();\n    }\n    else{\n\n        this.resize().move();\n    }\n\n    if(hidden){\n      \n        this.hide();\n    }\n    else{\n\n        this.focus();\n\n        if(index || (index === 0)){\n\n            this.index = index;\n            setStyle(this.dom, \"z-index\", index);\n            if(index > index_counter) index_counter = index;\n        }\n    }\n\n    register(this);\n    if (shadowel) {\n      const se = document.createElement(shadowel);\n      const link = document.createElement(\"link\");\n      link.rel = \"stylesheet\";\n      link.type = \"text/css\";\n      link.href = cssurl;\n      link.itemprop = \"url\";\n      se.appendChild(link);\n      se.appendChild(this.dom);\n      se.attachShadow({ mode: \"open\" }).innerHTML = \"<slot></slot>\"; // slot prevents #attachShadow from wiping dom.\n      (root || body).appendChild(se);\n    } else {\n      (root || body).appendChild(this.dom);\n    }\n    (oncreate = params[\"oncreate\"]) && oncreate.call(this, params);\n}\n\nWinBox[\"new\"] = function(params){\n\n    return new WinBox(params);\n};\n\nexport default WinBox;\n\n/**\n * @param {number|string} num\n * @param {number} base\n * @param {number=} center\n * @return number\n */\n\nfunction parse(num, base, center){\n\n    if(typeof num === \"string\"){\n\n        if(num === \"center\"){\n\n            num = ((base - center) / 2) | 0;\n        }\n        else if(num === \"right\" || num === \"bottom\"){\n\n            num = (base - center);\n        }\n        else{\n\n            const value = parseFloat(num);\n            const unit = ((\"\" + value) !== num) && num.substring((\"\" + value).length);\n\n            if(unit === \"%\"){\n\n                num = (base / 100 * value) | 0;\n            }\n            else{\n\n                num = value;\n            }\n        }\n    }\n\n    return num;\n}\n\nfunction setup(){\n\n    body = document.body;\n\n    body[prefix_request = \"requestFullscreen\"] ||\n    body[prefix_request = \"msRequestFullscreen\"] ||\n    body[prefix_request = \"webkitRequestFullscreen\"] ||\n    body[prefix_request = \"mozRequestFullscreen\"] ||\n    (prefix_request = \"\");\n\n    prefix_exit = prefix_request && (\n\n        prefix_request.replace(\"request\", \"exit\")\n                      .replace(\"mozRequest\", \"mozCancel\")\n                      .replace(\"Request\", \"Exit\")\n    );\n\n    addListener(window, \"resize\", function(){\n\n        init();\n        update_min_stack();\n    });\n\n    init();\n}\n\n/**\n * @param {WinBox} self\n */\n\nfunction register(self){\n\n    addWindowListener(self, \"drag\");\n    addWindowListener(self, \"n\");\n    addWindowListener(self, \"s\");\n    addWindowListener(self, \"w\");\n    addWindowListener(self, \"e\");\n    addWindowListener(self, \"nw\");\n    addWindowListener(self, \"ne\");\n    addWindowListener(self, \"se\");\n    addWindowListener(self, \"sw\");\n\n    addListener(getByClass(self.dom, \"wb-min\"), \"click\", function(event){\n\n        preventEvent(event);\n        self.min ? self.focus().restore() : self.blur().minimize();\n    });\n\n    addListener(getByClass(self.dom, \"wb-max\"), \"click\", function(event){\n\n        self.max ? self.restore() : self.maximize();\n    });\n\n    if(prefix_request){\n\n        addListener(getByClass(self.dom, \"wb-full\"), \"click\", function(event){\n\n            self.fullscreen();\n        });\n    }\n    else{\n\n        self.addClass(\"no-full\");\n    }\n\n    addListener(getByClass(self.dom, \"wb-close\"), \"click\", function(event){\n\n        preventEvent(event);\n        self.close() || (self = null);\n    });\n\n    addListener(self.dom, \"click\", function(event){\n\n        // stop propagation would disable global listeners used inside window contents\n        // use event bubbling for this listener to skip this handler by the other click listeners\n        self.focus();\n    });\n}\n\n/**\n * @param {WinBox} self\n */\n\nfunction remove_min_stack(self){\n\n    stack_min.splice(stack_min.indexOf(self), 1);\n    update_min_stack();\n    self.removeClass(\"min\");\n    self.min = false;\n    self.dom.title = \"\";\n}\n\nfunction update_min_stack(){\n\n    const length = stack_min.length;\n    const splitscreen_index = {};\n    const splitscreen_length = {};\n\n    for(let i = 0, self, key; i < length; i++){\n\n        self = stack_min[i];\n        key = (self.left || self.right) + \":\" + (self.top || self.bottom);\n\n        if(splitscreen_length[key]){\n\n            splitscreen_length[key]++;\n        }\n        else{\n\n            splitscreen_index[key] = 0;\n            splitscreen_length[key] = 1;\n        }\n    }\n\n    for(let i = 0, self, key, width; i < length; i++){\n\n        self = stack_min[i]\n        key = (self.left || self.right) + \":\" + (self.top || self.bottom);\n        width = Math.min((root_w - self.left - self.right) / splitscreen_length[key], 250);\n        //splitscreen_index[key] || (splitscreen_index[key] = 0);\n        self.resize((width + 1) | 0, self.header, true)\n            .move((self.left + splitscreen_index[key] * width) | 0, root_h - self.bottom - self.header, true);\n        splitscreen_index[key]++;\n    }\n}\n\n/**\n * @param {WinBox} self\n * @param {string} dir\n */\n\nfunction addWindowListener(self, dir){\n\n    const node = getByClass(self.dom, \"wb-\" + dir);\n    if(!node) return;\n\n    let touch, x, y;\n    let raf_timer, raf_move, raf_resize;\n    let dblclick_timer = 0;\n\n    addListener(node, \"mousedown\", mousedown);\n    addListener(node, \"touchstart\", mousedown, eventOptions);\n\n    function loop(){\n\n        raf_timer = requestAnimationFrame(loop);\n\n        if(raf_resize){\n\n            self.resize();\n            raf_resize = false;\n        }\n\n        if(raf_move){\n\n            self.move();\n            raf_move = false;\n        }\n    }\n\n    function mousedown(event){\n\n        // prevent the full iteration through the fallback chain of a touch event (touch > mouse > click)\n        preventEvent(event);\n        self.focus();\n\n        if(dir === \"drag\"){\n\n            if(self.min){\n\n                self.restore();\n                return;\n            }\n\n            const now = Date.now();\n            const diff = now - dblclick_timer;\n\n            dblclick_timer = now;\n\n            if(diff < 300){\n\n                self.max ? self.restore() : self.maximize();\n                return;\n            }\n        }\n\n        if(!self.max && !self.min){\n\n            addClass(body, \"wb-lock\");\n            use_raf && loop();\n\n            if((touch = event.touches) && (touch = touch[0])){\n\n                event = touch;\n\n                // TODO: fix when touch events bubbles up to the document body\n                //addListener(self.dom, \"touchmove\", preventEvent);\n                addListener(window, \"touchmove\", handler_mousemove, eventOptions);\n                addListener(window, \"touchend\", handler_mouseup, eventOptions);\n            }\n            else{\n\n                //addListener(this, \"mouseleave\", handler_mouseup);\n                addListener(window, \"mousemove\", handler_mousemove);\n                addListener(window, \"mouseup\", handler_mouseup);\n            }\n\n            x = event.pageX;\n            y = event.pageY;\n\n            // appearing scrollbars on the root element does not trigger \"window.onresize\",\n            // force refresh window size via init(), also force layout recalculation (layout trashing)\n            // it is probably very rare that the body overflow changes between window open and close\n\n            //init();\n        }\n    }\n\n    function handler_mousemove(event){\n\n        preventEvent(event);\n\n        if(touch){\n\n            event = event.touches[0];\n        }\n\n        const pageX = event.pageX;\n        const pageY = event.pageY;\n        const offsetX = pageX - x;\n        const offsetY = pageY - y;\n\n        const old_w = self.width;\n        const old_h = self.height;\n        const old_x = self.x;\n        const old_y = self.y;\n\n        let resize_w, resize_h, move_x, move_y;\n\n        if(dir === \"drag\"){\n\n            self.x += offsetX;\n            self.y += offsetY;\n            move_x = move_y = 1;\n        }\n        else{\n\n            if(dir === \"e\" || dir === \"se\" || dir === \"ne\"){\n\n                self.width += offsetX;\n                resize_w = 1;\n            }\n            else if(dir === \"w\" || dir === \"sw\" || dir === \"nw\"){\n\n                self.x += offsetX;\n                self.width -= offsetX;\n                resize_w = 1;\n                move_x = 1;\n            }\n\n            if(dir === \"s\" || dir === \"se\" || dir === \"sw\"){\n\n                self.height += offsetY;\n                resize_h = 1;\n            }\n            else if(dir === \"n\" || dir === \"ne\" || dir === \"nw\"){\n\n                self.y += offsetY;\n                self.height -= offsetY;\n                resize_h = 1;\n                move_y = 1;\n            }\n        }\n\n        if(resize_w){\n\n            self.width = Math.max(Math.min(self.width, self.maxwidth, root_w - self.x - self.right), self.minwidth);\n            resize_w = self.width !== old_w;\n        }\n\n        if(resize_h){\n\n            self.height = Math.max(Math.min(self.height, self.maxheight, root_h - self.y - self.bottom), self.minheight);\n            resize_h = self.height !== old_h;\n        }\n\n        if(resize_w || resize_h){\n\n            use_raf ? raf_resize = true : self.resize();\n        }\n\n        if(move_x){\n\n            self.x = Math.max(Math.min(self.x, root_w - self.width - self.right), self.left);\n            move_x = self.x !== old_x;\n        }\n\n        if(move_y){\n\n            self.y = Math.max(Math.min(self.y, root_h - self.height - self.bottom), self.top);\n            move_y = self.y !== old_y;\n        }\n\n        if(move_x || move_y){\n\n            use_raf ? raf_move = true : self.move();\n        }\n\n        if(resize_w || move_x){\n\n            x = pageX;\n        }\n\n        if(resize_h || move_y){\n\n            y = pageY;\n        }\n    }\n\n    function handler_mouseup(event){\n\n        preventEvent(event);\n        removeClass(body, \"wb-lock\");\n        use_raf && cancelAnimationFrame(raf_timer);\n\n        if(touch){\n\n            //removeListener(self.dom, \"touchmove\", preventEvent);\n            removeListener(window, \"touchmove\", handler_mousemove, eventOptions);\n            removeListener(window, \"touchend\", handler_mouseup, eventOptions);\n        }\n        else{\n\n            //removeListener(this, \"mouseleave\", handler_mouseup);\n            removeListener(window, \"mousemove\", handler_mousemove);\n            removeListener(window, \"mouseup\", handler_mouseup);\n        }\n    }\n}\n\nfunction init(){\n\n    // TODO: the window height of iOS isn't determined correctly when the bottom toolbar disappears\n\n    // the bounding rect provides more precise dimensions (float values)\n    // //const rect = doc.getBoundingClientRect();\n    // this.root_w = doc.clientWidth; //rect.width || (rect.right - rect.left);\n    // this.root_h = doc.clientHeight; //rect.height || (rect.top - rect.bottom);\n\n    // if(ios){\n    //     this.root_h = window.innerHeight * (this.root_w / window.innerWidth);\n    // }\n\n    // root_w = doc.clientWidth;\n    // root_h = doc.clientHeight;\n\n    // root_w = body.clientWidth;\n    // root_h = body.clientHeight;\n\n    const doc = document.documentElement;\n    root_w = doc.clientWidth;\n    root_h = doc.clientHeight;\n}\n\n/**\n * @param {Element=} src\n * @this WinBox\n */\n\nWinBox.prototype.mount = function(src){\n\n    // handles mounting over:\n    this.unmount();\n\n    src._backstore || (src._backstore = src.parentNode);\n    this.body.textContent = \"\";\n    this.body.appendChild(src);\n\n    return this;\n};\n\n/**\n * @param {Element=} dest\n * @this WinBox\n */\n\nWinBox.prototype.unmount = function(dest){\n\n    const node = this.body.firstChild;\n\n    if(node){\n\n        const root = dest || node._backstore;\n\n        root && root.appendChild(node);\n        node._backstore = dest;\n    }\n\n    return this;\n};\n\n/**\n * @this WinBox\n */\n\nWinBox.prototype.setTitle = function(title){\n\n    const node = getByClass(this.dom, \"wb-title\");\n    setText(node, this.title = title);\n    return this;\n};\n\n/**\n * @this WinBox\n */\n\nWinBox.prototype.setIcon = function(src){\n\n    const img = getByClass(this.dom, \"wb-icon\");\n    setStyle(img, \"background-image\", \"url(\" + src + \")\");\n    setStyle(img, \"display\", \"inline-block\");\n\n    return this;\n};\n\n/**\n * @this WinBox\n */\n\nWinBox.prototype.setBackground = function(background){\n\n    setStyle(this.dom, \"background\", background);\n    return this;\n};\n\n/**\n * @this WinBox\n */\n\nWinBox.prototype.setUrl = function(url, onload){\n\n    const node = this.body.firstChild;\n\n    if(node && (node.tagName.toLowerCase() === \"iframe\")){\n\n        node.src = url;\n    }\n    else{\n        const name = this.framename ?? \"\";\n        this.body.innerHTML = `<iframe name=\"${name}\" src=\"${url}\"></iframe>`;\n        onload && (this.body.firstChild.onload = onload);\n    }\n\n    return this;\n};\n\n/**\n * @param {boolean=} state\n * @this WinBox\n */\n\nWinBox.prototype.focus = function(state){\n\n    if(state === false){\n\n        return this.blur();\n    }\n\n    if(last_focus !== this && this.dom){\n\n        last_focus && last_focus.blur();\n\n        setStyle(this.dom, \"z-index\", ++index_counter);\n        this.index = index_counter;\n        this.addClass(\"focus\");\n        last_focus = this;\n\n        this.focused = true;\n        this.onfocus && this.onfocus();\n    }\n\n    return this;\n};\n\n/**\n * @param {boolean=} state\n * @this WinBox\n */\n\nWinBox.prototype.blur = function(state){\n\n    if(state === false){\n\n        return this.focus();\n    }\n\n    if(last_focus === this){\n\n        this.removeClass(\"focus\");\n        this.focused = false;\n        this.onblur && this.onblur();\n\n        // TODO focus next window\n        last_focus = null;\n    }\n\n    return this;\n};\n\n/**\n * @param {boolean=} state\n * @this WinBox\n */\n\nWinBox.prototype.hide = function(state){\n\n    if(state === false){\n\n        return this.show();\n    }\n\n    if(!this.hidden){\n\n        this.onhide && this.onhide();\n        this.hidden = true;\n        return this.addClass(\"hide\");\n    }\n};\n\n/**\n * @param {boolean=} state\n * @this WinBox\n */\n\nWinBox.prototype.show = function(state){\n\n    if(state === false){\n\n        return this.hide();\n    }\n\n    if(this.hidden){\n\n        this.onshow && this.onshow();\n        this.hidden = false;\n        return this.removeClass(\"hide\");\n    }\n};\n\n/**\n * @param {boolean=} state\n * @this WinBox\n */\n\nWinBox.prototype.minimize = function(state){\n\n    if(state === false){\n\n        return this.restore();\n    }\n\n    if(is_fullscreen){\n\n        cancel_fullscreen();\n    }\n\n    if(this.max){\n\n        this.removeClass(\"max\");\n        this.max = false;\n    }\n\n    if(!this.min){\n\n        stack_min.push(this);\n        update_min_stack();\n        this.dom.title = this.title;\n        this.addClass(\"min\");\n        this.min = true;\n        this.onminimize && this.onminimize();\n    }\n\n    return this;\n};\n\n/**\n * @this WinBox\n */\n\nWinBox.prototype.restore = function(){\n\n    if(is_fullscreen){\n\n        cancel_fullscreen();\n    }\n\n    if(this.min){\n\n        remove_min_stack(this);\n        this.resize().move();\n        this.onrestore && this.onrestore();\n    }\n\n    if(this.max){\n\n        this.max = false;\n        this.removeClass(\"max\").resize().move();\n        this.onrestore && this.onrestore();\n    }\n\n    return this;\n};\n\n/**\n * @param {boolean=} state\n * @this WinBox\n */\n\nWinBox.prototype.maximize = function(state){\n\n    if(state === false){\n\n        return this.restore();\n    }\n\n    if(is_fullscreen){\n\n        cancel_fullscreen();\n    }\n\n    if(this.min){\n\n        remove_min_stack(this);\n    }\n\n    if(!this.max){\n\n        this.addClass(\"max\").resize(\n\n            root_w - this.left - this.right,\n            root_h - this.top - this.bottom /* - 1 */,\n            true\n\n        ).move(\n\n            this.left,\n            this.top,\n            true\n        );\n\n        this.max = true;\n        this.onmaximize && this.onmaximize();\n    }\n\n    return this;\n};\n\n/**\n * @param {boolean=} state\n * @this WinBox\n */\n\nWinBox.prototype.fullscreen = function(state){\n\n    if(this.min){\n\n        remove_min_stack(this);\n        this.resize().move();\n    }\n\n    // fullscreen could be changed by user manually!\n\n    if(!is_fullscreen || !cancel_fullscreen()){\n\n        // requestFullscreen is executed as async and returns promise.\n        // in this case it is better to set the state to \"this.full\" after the requestFullscreen was fired,\n        // because it may break when browser does not support fullscreen properly and bypass it silently.\n\n        this.body[prefix_request]();\n        is_fullscreen = this;\n        this.full = true;\n        this.onfullscreen && this.onfullscreen();\n    }\n    else if(state === false){\n\n        return this.restore();\n    }\n\n    return this;\n};\n\nfunction has_fullscreen(){\n\n    return (\n\n        document[\"fullscreen\"] ||\n        document[\"fullscreenElement\"] ||\n        document[\"webkitFullscreenElement\"] ||\n        document[\"mozFullScreenElement\"]\n    );\n}\n\n/**\n * @return {boolean|void}\n */\n\nfunction cancel_fullscreen(){\n\n    is_fullscreen.full = false;\n\n    if(has_fullscreen()){\n\n        // exitFullscreen is executed as async and returns promise.\n        // the important part is that the promise callback runs before the event \"onresize\" was fired!\n\n        document[prefix_exit]();\n        return true;\n    }\n}\n\n/**\n * @param {boolean=} force\n * @this WinBox\n */\n\nWinBox.prototype.close = function(force) {\n\n    if(this.onclose && this.onclose(force)){\n\n        return true;\n    }\n\n    if(this.min){\n\n        remove_min_stack(this);\n    }\n\n    this.unmount();\n    this.dom.remove();\n    this.dom.textContent = \"\";\n    this.dom[\"winbox\"] = null;\n    this.body = null;\n    this.dom = null;\n\n    if(last_focus === this){\n\n        last_focus = null;\n\n        // TODO focus next window\n    }\n};\n\n/**\n * @param {number|string=} x\n * @param {number|string=} y\n * @param {boolean=} _skip_update\n * @this WinBox\n */\n\nWinBox.prototype.move = function(x, y, _skip_update){\n\n    if(!x && (x !== 0)){\n\n        x = this.x;\n        y = this.y;\n    }\n    else if(!_skip_update){\n\n        this.x = x ? x = parse(x, root_w - this.left - this.right, this.width) : 0;\n        this.y = y ? y = parse(y, root_h - this.top - this.bottom, this.height) : 0;\n    }\n\n    //setStyle(this.dom, \"transform\", \"translate(\" + x + \"px,\" + y + \"px)\");\n    setStyle(this.dom, \"left\", x + \"px\");\n    setStyle(this.dom, \"top\", y + \"px\");\n\n    this.onmove && this.onmove(x, y);\n    return this;\n};\n\n/**\n * @param {number|string=} w\n * @param {number|string=} h\n * @param {boolean=} _skip_update\n * @this WinBox\n */\n\nWinBox.prototype.resize = function(w, h, _skip_update){\n\n    if(!w && (w !== 0)){\n\n        w = this.width;\n        h = this.height;\n    }\n    else if(!_skip_update){\n\n        this.width = w ? w = parse(w, this.maxwidth /*- this.left - this.right*/) : 0;\n        this.height = h ? h = parse(h, this.maxheight /*- this.top - this.bottom*/) : 0;\n\n        w = Math.max(w, this.minwidth);\n        h = Math.max(h, this.minheight);\n    }\n\n    setStyle(this.dom, \"width\", w + \"px\");\n    setStyle(this.dom, \"height\", h + \"px\");\n\n    this.onresize && this.onresize(w, h);\n    return this;\n};\n\n/**\n * @param {{ class:string?, image:string?, click:Function?, index:number? }} control\n * @this WinBox\n */\n\nWinBox.prototype.addControl = function(control){\n\n    const classname = control[\"class\"];\n    const image = control.image;\n    const click = control.click;\n    const index = control.index;\n    const title = control.title;\n    const node = document.createElement(\"span\");\n    const icons = getByClass(this.dom, \"wb-control\");\n    const self = this;\n\n    if(classname) node.className = classname;\n    if(image) setStyle(node, \"background-image\", \"url(\" + image + \")\");\n    if(click) node.onclick = function(event){ click.call(this, event, self) };\n    if(title) node.title = title;\n\n    icons.insertBefore(node, icons.childNodes[index || 0]);\n\n    return this;\n};\n\n/**\n * @param {string} control\n * @this WinBox\n */\n\nWinBox.prototype.removeControl = function(control){\n\n    control = getByClass(this.dom, control);\n    control && control.remove();\n    return this;\n};\n\n/**\n * @param {string} classname\n * @this WinBox\n */\n\nWinBox.prototype.addClass = function(classname){\n\n    addClass(this.dom, classname);\n    return this;\n};\n\n/**\n * @param {string} classname\n * @this WinBox\n */\n\nWinBox.prototype.removeClass = function(classname){\n\n    removeClass(this.dom, classname);\n    return this;\n};\n\n\n/**\n * @param {string} classname\n * @this WinBox\n */\n\nWinBox.prototype.hasClass = function(classname){\n\n    return hasClass(this.dom, classname);\n};\n\n/**\n * @param {string} classname\n * @this WinBox\n */\n\nWinBox.prototype.toggleClass = function(classname){\n\n    return this.hasClass(classname) ? this.removeClass(classname) : this.addClass(classname);\n};\n\n\n/*\nWinBox.prototype.use = function(plugin){\n\n    this.plugins.push(plugin);\n    return this;\n};\n*/"],
  "mappings": "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",
  "names": []
}
